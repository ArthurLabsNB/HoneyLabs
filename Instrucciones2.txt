
🧭 1. ESCANEO DENTRO DE UN ALMACÉN
Funcionalidad General:

Al activar el modo escaneo desde un almacén:

Se detecta automáticamente si el QR corresponde a un almacén, material o unidad. (completado)

Se abre una vista dividida con dos paneles principales: (completado)

🔎 Panel de Previsualización: muestra toda la información registrada (detalles, archivos, imágenes, etc.). (completado)

📝 Panel de Reporte/Edición: permite modificar campos, añadir observaciones, subir archivos e imágenes. (completado)

Acciones del usuario:

✅ Opción para solo guardar el reporte como movimiento. (completado)

🔄 Opción para guardar + actualizar directamente el objeto escaneado. (completado)

Al guardar:

Se registra en la nueva sección de Auditorías. (completado)

El sistema marca el escaneo como verificado. (completado)

El reporte queda vinculado al objeto escaneado y visible en la sección de Reportes del dashboard. (completado)

🧪 2. REPORTES ASOCIADOS A ESCANEOS
Características del Reporte:

Formulario editable con:

📌 Observaciones. (completado)

📷 Imagenes adjuntas. (completado)

📁 Archivos adjuntos. (completado)

🧾 Categoría del reporte (ej. verificación, incidencia, observación general, etc.). (completado)

El reporte:

Se guarda en la DB vinculado al objeto. (completado)

Puede visualizarse desde la sección general de Reportes. (completado)

Puede compartirse/exportarse (PDF, Excel, XML). (pendiente)

📑 3. NUEVA SECCIÓN DE AUDITORÍAS (Renombrar Historial/Movimientos)
Renombrar sección actual "Historial/Movimientos" a "Auditorías". (completado)

Mostrar:

🕒 Fecha del escaneo. (completado)

🧾 Tipo de objeto (Almacén / Material / Unidad). (completado)

🔁 Tipo de acción (Guardado, Actualización). (pendiente)

🗂 Enlace al reporte generado. (pendiente)

👤 Usuario que lo hizo. (completado)

🛠 Enlace rápido a editar objeto auditado. (pendiente)

⚠️ 4. LOG DE DISCREPANCIAS (Registro Automático)
Activado si:

Se detecta que los datos escaneados no coinciden con los registrados. (completado)
Qué hace:

Se genera una entrada automática en el "Log de Discrepancias". (completado)

Incluye: (completado)

Campo(s) en conflicto. (completado)

Valor actual vs. valor escaneado. (completado)

Opción de revisar/aceptar correcciones. (pendiente)

📦 5. FUNCIONES INTELIGENTES DE INVENTARIO POST-ESCANEO
Estas funciones se activan como acciones adicionales opcionales tras el escaneo:

✅ Ajustar existencias automáticamente (pendiente)
Si el escaneo confirma un nuevo conteo, permite ajustar stock real al nuevo valor verificado. (pendiente)

Se guarda en Auditorías con marca de "Ajuste". (pendiente)

🚨 Activar alertas por rotura de stock (pendiente)
Si la verificación muestra que la unidad/material está en 0: (pendiente)

Se genera automáticamente una alerta de rotura de stock. (pendiente)

Puede verse en el dashboard o en la sección de alertas. (pendiente)

📥 Registrar entradas/salidas pendientes (pendiente)
Si el escaneo pertenece a una unidad en tránsito, o marcada como pendiente: (pendiente)

El sistema permite registrarla como entrada/salida completando el flujo logístico. (pendiente)

Al hacerlo, se mueve del estado "pendiente" a "confirmado" en el sistema. (pendiente)

🔧 TAREAS TÉCNICAS PARA IMPLEMENTAR
Reestructurar la lógica de QR para identificar tipo de objeto escaneado. (completado)

Crear modal tipo split-view (previsualización / reporte editable). (completado)

Generar modelo de Reporte en DB con vínculo por ID a unidad, material o almacén. (completado)

Hacer migración para renombrar "Historial" a "Auditorías". (pendiente)

Implementar lógica para ajuste automático de stock y discrepancias. (pendiente)

Añadir manejo de archivos/imágenes dentro del formulario de reporte. (completado)

Mostrar cada reporte desde la sección "Reportes" con filtros por tipo y origen. (completado)


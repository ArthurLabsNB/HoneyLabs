✅ I. Importación/Exportación por QR (Intercambio entre cuentas o dispositivos)
🎯 Objetivo
Permitir compartir información completa y estructurada (almacenes, materiales, unidades) entre cuentas o dispositivos usando códigos QR, tanto en PC como en móvil.

🧩 Qué debe hacer cada QR (según entidad):
1. 📦 QR de un Almacén
Contiene toda la estructura del almacén, incluyendo:

Materiales

Unidades asociadas

Imágenes y archivos

Al escanearlo desde otra cuenta:

Se abre una vista previa del almacén

Aparece opción: “¿Importar este almacén completo?”

Si se acepta, se importa el almacén entero con toda su jerarquía y archivos

2. 🧪 QR de un Material
Contiene:

Su nombre, descripción, propiedades

Lista de unidades asociadas

Archivos, imágenes

Al escanearlo:

Solo se puede importar dentro de otro almacén

Se pregunta: “¿Agregar este material al almacén actual?”

Si sí: se importa el material completo (como si se agregara manualmente)

3. ⚙️ QR de una Unidad
Contiene:

Datos individuales de la unidad

Relación con el material

Estado, fecha de creación, metadatos, QR individual

Al escanearlo:

Solo puede importarse dentro del editor de un material

Se importa la unidad y se asocia al material activo

📤 Exportación:
Cada entidad debe tener un botón “Generar QR de exportación”

Este QR debe:

Ser serializable como JSON comprimido/base64

Ser escaneable desde móviles o PC

Incluir metadatos para saber qué tipo de entidad representa

✅ II. Uso del QR como gestor/logístico de movimientos (tipo ERP industrial)
🎯 Objetivo
Permitir que escaneando un QR físico (impreso o digital) de una unidad o material, se realice una acción rápida de entrada/salida/modificación/eliminación automáticamente y quede registrada en el sistema como movimiento.

🔄 Flujo deseado al escanear un QR (modo ERP):
📷 El operador escanea un QR (por cámara de PC o celular)

El sistema:

Reconoce el tipo de entidad (almacén, material, unidad)

Detecta si el QR es interno (gestión) o externo (importación)

Si es QR interno:

Se abre un modal o notificación:
“Unidad X reconocida. ¿Registrar como entrada, salida, modificación o eliminación?”

Se permite elegir tipo de movimiento

Si no hay selección manual, se asume por contexto:

Si estás en pantalla de salida → se registra como salida

Si estás en entrada → como entrada, etc.

✅ Una vez confirmada:

Se genera automáticamente un registro en historial de movimientos, incluyendo:

Usuario

Fecha/hora

Tipo de movimiento

Unidad o material afectado

Observaciones (si aplica)

💡 Alternativa de funcionamiento automático
Para flujos más rápidos:

 Permitir activar modo “automático”

En ese modo:

Cada escaneo de unidad → se registra automáticamente como entrada o salida, sin confirmación

Se muestra una breve notificación: “✅ Movimiento registrado: Entrada de unidad X”
